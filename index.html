<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Hello World!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
        function adds(num1, num2) {
            if (isNaN(num1) || isNaN(num2))
                return NaN
            
            if (num2.length > num1.length) {
                var tmp = num1
                num1 = num2
                num2 = tmp
            }

            var ans = ""
            var c = 0
            for (var i = 0; i < num2.length; i++) {
                var sum = Number(num1.charAt(i)) + Number(num2.charAt(i)) + c
                ans += String(sum % 10)
                c = (sum < 10)? 0: 1
            }
            for (var i = num2.length; i < num1.length; i++) {
                var sum = Number(num1.charAt(i)) + c
                ans += String(sum % 10)
                c = (sum < 10)? 0: 1
            }
            if (c == 1)
                ans += '1'
            return ans
        }

        function fibLar(num) {
            if (num < 0)
                return '-1'

            var temp = ['1', '0']
            for (var i = 0; i < num; i++) {
                var tmp = temp[1]
                temp[1] = adds(temp[0], temp[1])
                temp[0] = tmp
            }
            return temp[1]
        }

        function updateAnswer() {
            var x = escape(document.getElementById('fib-calc').elements[0].value)
            if (x.length != 0) {
                var ans = fibLar(x)
                ans = ans.split('')
                ans = ans.reverse()
                ans = ans.join('')
                window.alert(ans)
            }
        }
    </script>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    Hello World!

    <form id="fib-calc">
        <h3>Fibonacci calculator</h3>
        <p>
            <label>Fibonacci number index</label>
            <input type="number" />
            <button onclick="updateAnswer()">Calculate</button><br>
        </p>
    </form>
    <p>
        Here's a <a href="./blogpage.html">link</a> to my 'blogpage'.
    </p>
</body>

</html>
